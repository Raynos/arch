# rest 

A restful routing utility

## Blog posts 

coming soon!

## Examples

 - [vanilla-node][1]
 - [raynos-blog source code][2] Coming soon!

## Documentation

Annotated source code coming soon

### Resource.new(methods)

Creates a new Resource object that wraps a hash of methods. The keys of the hash should be "GET". "POST", etc and the values should be callbacks.

The callback format is the stack-style callbacks

	var Resource = rest.Resource;
	var r = Resource.new({
		"GET": function (req, res) {
			return res.end("hello world");
		}
	});

### Resource["method"](cb)

The Resource has methods for "get", "post", "put", "delete", "head", "options". These methods take a callback and attach a handler to the method to the resource internally.

r.post(function (req, res) {
	return 42;
});

### Rest.new()

Creates a new restful router

### Rest.resource(uri, methods)

Creates a new Resource with the attached methods and then attaches that resource to the regular expression uri. Whenever a router (in the router) matches uri the appropiate callback will be called based on HTTP method.

var r = Rest.new();
r.resource(/^blog$/, {
	"GET": function (req, res) { return "blog posts"; }
});
r.resource(/^blog\/(\w+)$/, {
	"GET": function (req, res) { return "post + " + this.regexp[1]; } 
});

### Rest.router()

Returns a stack-style function to use as a router. When the router is called in a stack it will check whether the req.pathname matches any regular expressions if so it will run the correct callback.

The value of uri.exec(req.pathname) will be added as this.regexp

  [1]: http://www.github.com/Raynos/vanilla-node
  [2]: http://www.github.com/Raynos/raynos-blog